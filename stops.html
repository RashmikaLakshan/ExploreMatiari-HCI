<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="icon" href="images/favicon.png">
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>Explore Matiari</title>

    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@500&display=swap" rel="stylesheet"/>
    <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css" integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p"crossorigin="anonymous"/>
    <link rel="stylesheet" href="css/style.css" type="text/css" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link type="text/css" rel="stylesheet" href="https://api.mqcdn.com/sdk/mapquest-js/v1.3.2/mapquest.css"/>
    
  </head>

  <body>
    <header>
      <nav class="navbar fixed-top navbar-expand-md navbar-default">
        <a href="#" class="navbar-brand"><img src="images/index/logo.png"></a>
       
        <button class="navbar-toggler toggler-example" type="button" data-toggle="collapse" data-target="#navbarCollapse"
        aria-controls="navbarSupportedContent1" aria-expanded="false" aria-label="Toggle navigation">
        <i class="fas fa-bars fa-1x dark-blue-text"></i></button>

      <div class="collapse navbar-collapse" id="navbarCollapse">
        <div class="navbar-nav ml-auto" style="font-variant: small-caps; ">
          <a href="index.html" class="nav-item nav-link navFont">Home</a>
          <a href="famousplaces.html" class="nav-item nav-link navFont">Famous Places</a>
          <a href="restaurants.html" class="nav-item nav-link navFont">Restaurants</a>
          <a href="stops.html" class="nav-item active nav-link navFont">Bus Stops</a>
          <a href="hospitals.html" class="nav-item nav-link navFont">Hospitals</a>
        </div>
      </nav>

      <div class="title">
        <span class="heading">Bus Stops</span>
      </div>

      <div id="cover">
        <div class="tb">
          <div class="td"><input class="searchInput"  id="myInput" type="text" placeholder="Search" required></div>
          <div class="td" id="s-cover">
            <button class="searchButton" id="searchButton" type="submit">
              <div id="s-circle"></div>
              <span></span>
            </button>
          </div>
        </div>
      </div>

    </header>

    <div class="page-wrapper">
      <div class="history d-flex justify-content-center">
        <h1 class="history-heading1 text-center">
          Bus Stops in Matiari</h1>
        <hr />
      </div>

      <div class="container">
        <div class="row justify-content-center d-flex" id="gallery" ></div>
      </div>
      <div id="map" style="width: 100%; height: 530px;"></div>
    </div>
          
  
    <button onclick="topFunction()" id="myBtn" title="Go to top"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-arrow-up" viewBox="0 0 16 16">
      <path fill-rule="evenodd" d="M8 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L7.5 2.707V14.5a.5.5 0 0 0 .5.5z"/>
    </svg></button>
  
    <footer>
      <div class="footer">
        <div class="footer-content">
          <div class="footer-section about">
            <h1 class="logo-text">
              <span class="logo-span">J</span>unaid
              <span class="logo-span">Q</span>ureshi
            </h1>
            <p class="footer-para">
              I am a creative, Web Developer with command on Latest Tech stacks
            </p>
            <div class="contact">
              <span><i class="fas fa-phone"></i>&nbsp; +9231-33084869</span>
              <span
                ><i class="fas fa-envelope"></i>&nbsp;
                qjunaid623@gmail.com</span
              >
            </div>
            <div class="socials">
              <a
                href="https://www.facebook.com/profile.php?id=100041078220896"
                target="_blank"
                ><i class="fab fa-facebook"></i
              ></a>
              <a
                href="https://www.linkedin.com/in/junaid-qureshi-34a180194/"
                target="_blank"
                ><i class="fab fa-linkedin"></i
              ></a>
              <a href="https://twitter.com/Junaid084869/" target="_blank"
                ><i class="fab fa-twitter"></i
              ></a>
              <a href="https://github.com/qjunaid623/" target="_blank"
                ><i class="fab fa-github"></i
              ></a>
            </div>
          </div>
        </div>
      </div>
    </footer>
    
  </body>
</html>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://api.mqcdn.com/sdk/mapquest-js/v1.3.2/mapquest.js"></script>
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
<script src="js/map.js"></script>

<script>
  var data = [
    {
      "image":"images/busstops/tando_busStop.jpg",
      "title": "Tando Adam Bus Stop",
      "description":"",
      "lat": "15.64093",
      "lng": "65.3917771"
    },
    {
      "image":"images/busstops/default.png",
      "title": "Tando Adam Second Bus Stop",
      "description":"",
      "lat": "15.6752377",
      "lng": "65.3914894"
    },
    {
      "image":"images/busstops/bhit_busStop.jpg",
      "title": "Bhit Shah Morrey Bus Stop",
      "description":"",
      "lat": "15.6910107",
      "lng": "65.3735413"
    },
    {
      "image":"images/busstops/default.png",
      "title": "UC Mitho Khoso Bus Stop",
      "description":"",
      "lat": "15.6758437",
      "lng": "65.4358472"
    },
  ]

  function onClicks(index) {
    window.scroll({
      top: 5000,
      left: 0,
      behavior: 'smooth'
    });
    clickLocation(parseFloat(data[index].lat), parseFloat(data[index].lng));
  }

  var cards = "";
  for (var i = 0; i < data.length; i++) {
    cards += `<div class="card m-3 zoom" style="width: 18rem;">
                <div class="card-head">
                  <img src="${data[i].image}" style="height:220px;width:286px"></img>
                </div>
                <div class="card-body d-flex flex-column">
                  <h5 class="card-title">${data[i].title}</h5>
                  <p class="card-text">${data[i].description}</p>
                  <button id="btnclick" onclick="onClicks(${i});" class="btn btn-checkout mt-auto text-center card-btn">Check Out</button>
                </div>
              </div>`;
  }
  $('#gallery').html(cards);

  $('#myInput').keyup(function(){
    showFilteredCards();
  });

  $(document).ready(function(){
    $("#searchButton").click(function() {
      showFilteredCards();
    });
  });

  function showFilteredCards(){
    var searchField = $('#myInput').val().toLowerCase();
    if(searchField === '')  {
      return $('#gallery').html(cards); 
    }

    var regex = new RegExp(searchField, "i");
    var filteredCards = "";
    $.each(data, function(key, val){
      if (val.title.toLowerCase().search(regex) != -1) {
        filteredCards += `<div class="card m-3 zoom" style="width: 18rem;">
                  <div class="card-head">
                    <img src="${data[key].image}" style="height:220px;width:286px"></img>
                  </div>
                  <div class="card-body d-flex flex-column">
                    <h5 class="card-title">${data[key].title}</h5>
                    <p class="card-text">${data[key].description}</p>
                    <button id="btnclick" onclick="onClicks(${key});" class="btn btn-checkout mt-auto text-center card-btn">Check Out</button>
                  </div>
                </div>`;
      }
    });
    
    if(filteredCards != ""){
      return $('#gallery').html(filteredCards);
    }else{
      return $('#gallery').html('<div class="text-danger text-uppercase m-5 font-weight-bold">not found</div>');
    }
  }

  $(document).ready(function () {
    var scroll_start = 0;
    var startchange = $('.title');
    var offset = startchange.offset();
    if (startchange.length) {
      $(document).scroll(function () {
        scroll_start = $(this).scrollTop();
        if (scroll_start > offset.top) {
          $(".navbar-default").css('background-color', 'white');
          $(".navFont").css('color', 'black');
          
          $(".dark-blue-text").css('color', 'black');
          $("a.active").css('color','white');
        } else {
          $('.navbar-default').css('background-color', 'transparent');
          $(".navFont").css('color', 'white');
          $(".dark-blue-text").css('color', 'white');
        }
      });
    }
  });

  $('#myInput').keyup(function () {
    showFilteredCards();
  });

  $(document).ready(function () {
    $("#searchButton").click(function () {
      showFilteredCards();
    });
  });


  function showFilteredCards() {
    var searchField = $('#myInput').val().toLowerCase();
    if (searchField === '') {
      return $('#gallery').html(cards);
    }

    var regex = new RegExp(searchField, "i");
    var filteredCards = "";
    $.each(data, function (key, val) {
      if (val.title.toLowerCase().search(regex) != -1) {
        filteredCards += `<div class="card m-3 zoom" style="width: 18rem;">
                  <div class="card-head">
                    <img src="${data[key].image}" style="height:220px;width:286px"></img>
                  </div>
                  <div class="card-body d-flex flex-column">
                    <h5 class="card-title">${data[key].title}</h5>
                    <p class="card-text">${data[key].description}</p>
                    <button id="btnclick" onclick="onClicks(${key});" class="btn btn-checkout mt-auto text-center card-btn">Check Out</button>
                  </div>
                </div>`;
      }
    });

    if (filteredCards != "") {
      return $('#gallery').html(filteredCards);
    } else {
      return $('#gallery').html('<div class="text-danger text-uppercase m-5 font-weight-bold">not found</div>');
    }
  }

  // When the user clicks on the button, scroll to the top of the document
  var mybutton = document.getElementById("myBtn");
  
  // When the user scrolls down 20px from the top of the document, show the button
  window.onscroll = function() {scrollFunction()};
  
  function scrollFunction() {
    if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
      mybutton.style.display = "block";
    } else {
      mybutton.style.display = "none";
    }
  }
  
  // When the user clicks on the button, scroll to the top of the document
  function topFunction() {
    document.body.scrollTop = 0;
    document.documentElement.scrollTop = 0;
  }


</script>
